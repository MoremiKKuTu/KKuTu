/*!
 * Rule the words! KKuTu Online
 * Copyright (C) 2017 JJoriping(op@jjo.kr)
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>.
 */!function(){var e,r;function t(){$.get("/servers",function(t){var a=0;e.list.empty(),r=t.list,t.list.forEach(function(r,t){var n,s=null===r?"x":"o",i="x"==s?"-":r+" / 400",d=r/400*100;a+=r||0,"o"==s&&(d>=99?s="q":d>=90&&(s="p")),e.list.append(n=$("<div>").addClass("server").attr("id","server-"+t).append($("<div>").addClass("server-status ss-"+s)).append($("<div>").addClass("server-name").html(L["server_"+t])).append($("<div>").addClass("server-people graph").append($("<div>").addClass("graph-bar").width(d+"%")).append($("<label>").html(i))).append($("<div>").addClass("server-enter").html(L.serverEnter))),"x"!=s?n.on("click",function(e){location.href="/?server="+t}):n.children(".server-enter").html("-")}),e.total.html("&nbsp;"+L.TOTAL+" "+a+L.MN),e.refi.removeClass("fa-spin"),e.start.prop("disabled",!1)})}$(document).ready(function(){e={list:$("#server-list"),total:$("#server-total"),start:$("#game-start"),ref:$("#server-refresh"),refi:$("#server-refresh>i")},$("#Background").attr("src","").addClass("jt-image").css({"background-image":"url(/img/kkutu/gamebg.png)","background-size":"200px 200px"}),e.start.prop("disabled",!0).on("click",function(e){var t,a;if($("#account-info").html()===L.LOGIN)return $("#server-0").trigger("click");for(t=.9;t<1;t+=.01)for(a in r)if(r[a]<400*t)return void $("#server-"+a).trigger("click")}),e.ref.on("click",function(r){if(e.refi.hasClass("fa-spin"))return alert(L.serverWait);e.refi.addClass("fa-spin"),setTimeout(t,1e3)}),setInterval(function(){e.ref.trigger("click")},6e4),t()}),$(document).ready(function(){$(document).bind("keydown",function(e){123==e.keyCode&&(e.preventDefault(),e.returnValue=!1)})}),$(document).ready(function(){$(document).on("contextmenu dragstart selectstart",function(e){return!1})})}();